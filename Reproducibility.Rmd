---
title: "Reproducible Workflow and R Markdown"
author: "Genelle Denzin, Coalition on Homelessness and Housing in Ohio (COHHIO)"
date: "8/5/2019"
output:
  powerpoint_presentation: default
  slidy_presentation: default
---

```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(echo = FALSE)
```
### Agenda

* Workflows for HMIS Data Analysts
* What is Reproducibility?
* What is R Markdown?

### Workflows for Data Analysts

![What workflows are we using to get from raw data -> visualization?](images/softwares.png) 

  
::: notes
raw data = unfiltered unformatted data straight from your HMIS that you (the data analyst) cannot alter from within the system.
:::
  
### Our workflows are important

![Stay grounded](images/grounded2.png)

### An Example

Analysis on how many currently fleeing domestic violence victims were served in our CoC's projects during 2018. My theoretical year-ago workflow:

1.  Create custom report named "DV Analysis 2018" in HMIS, export to Excel, name it "Domestic Violence 2018"
2.  Rename columns, remove last row 
3.  Import into visualization software
4.  Create visualization with the results

### The Problem(s)

* Will Future You be able to work back from the visualization to the raw data?
* If the results of your analysis are questioned, can you explain your results without stress or difficulty?
* A well-meaning co-worker repurposes your custom report in HMIS called "DV Analysis 2018", rename it "DV Analysis 2019", and modify the logic.

### What is Reproducibility?

![We cannot get to 100% as HMIS Data Analysts but we can make progress.](images/reproducibility.png)

:::notes
briefly touch on version control
:::

### Ways to Achieve Better Reproducibility with Current Tools

* Data from HMIS should be as raw as possible (not editable by you)
* Document your workflow for each visualization
    * if your data from HMIS is custom, document each action you take to create the data export
    * file paths, names, and document types
    * every action you do in your intermediary data shaping tool
    * any further actions you take inside your visualization tool

### What is Markdown

* created by John Gruber and Aaron Swartz
* a simplified version of markup languages
* simple intuitive formatting elements
* easily converted to valid HTML and other formats
* a [quick look at the syntax](https://www.markdownguide.org/basic-syntax)
    
### A Note about "Coding" and "Programming"

![Identity crisis...?](images/whoami.png)  

:::notes
What does a programmer look like? Can programmers ALSO be good at people?

You are most likely, in SOME way, already programming. It might look  different, but all the concepts are there. You know your data. You know how you want to see it. 

Does anyone use formulas in Excel? 
:::

### Disclaimer

I hold a fair amount of privelege:

  * I work in a VERY supportive workplace.
  * I am part of a 3 1/2 person HMIS team.
  * I love this stuff and find it addicting.
  * Things are hard and addictions feel good so I work after work hours a fair amount.

### What is R Markdown

* allows you to include R code in a markdown document (or python and others)
* the R code is evaluated in the processing of the markdown file
* results from the code are displayed in the final markdown document
* used widely in scientific and statistical analysis

### What is R Markdown (continued)

* can be written in any basic text editor
* must be rendered using the R packages called knitr and rmarkdown
* can handle parameters
* Works very well with R Studio 

### What R Markdown Can Create

* HTML, pdf, Word, and PowerPoint documents 
* Interactive Documents
* Slide decks (not PowerPoint)
* Websites, Articles, and blogs 
* Books
* See the [Gallery](https://rmarkdown.rstudio.com/gallery.html)

### How Does R Markdown Get Us to Reproducibility?

* If you're using R Studio, you can connect to an API.
* Every step that you take toward querying and shaping your data will be contained in your R Markdown document, including your file paths and filenames. Your work documents itself!
* If you are using a versioning tool, every iteration of your document will be retained.

### Let's Create an Analysis in R Markdown

DEMO!

You can try this at home: https://rstudio.cloud/spaces/20807/project/403886

### To Get Started in R

My two favorite ways:

  * Get [R for Data Science](https://r4ds.had.co.nz/) or access it for free online here: https://r4ds.had.co.nz/
  * Use the R package called [Swirl](https://swirlstats.com/) by going here: https://swirlstats.com/students.html (also free)
  
### We Can Work Together

* Most of my code is available on GitHub: https://github.com/kiadso It can be made to work with the HUD CSV Export data from your HMIS.

* The slides and other resources in this presentation are located here:



